<?xml version="1.0" encoding="UTF-8"?>
 <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >  
<mapper namespace="com.enn.commodity.synergistic.dao.PurchaseOrderDao" >  

  <resultMap type="PO" id="poResultMap">
		<id property="id" column="po_id"/>
		<result property="version" column="po_version"/>
		<result property="name" column="po_name"/>
		<result property="comments" column="po_comments"/>
		<result property="organizationId" column="po_organizationId"/>
		<result property="organizationName" column="po_organizationName"/>
		<result property="userId" column="po_userId"/>
		<result property="userName" column="po_userName"/>
		<result property="privateId" column="po_privateId"/>
		<result property="dataType" column="po_dataType"/>
		<result property="goodsType" column="po_goodsType"/>
		<result property="buyerId" column="po_buyerId"/>
		<result property="buyerName" column="po_buyerName"/>
		<result property="sellerId" column="po_sellerId"/>
		<result property="sellerName" column="po_sellerName"/>
		<result property="type" column="po_type"/>
		<result property="arrangementId" column="po_arrangementId"/>
		<result property="customerArrangementId" column="po_customerArrangementId"/>
		<result property="relatedPONumber" column="po_relatedPONumber"/>
		<result property="issuedDate" column="po_issuedDate"/>
		<result property="status" column="po_status"/>
		<result property="productId" column="po_productId"/>
		<result property="productName" column="po_productName"/>
		<result property="productType" column="po_productType"/>
		<result property="carryPONumber" column="po_carryPONumber"/>
		<result property="carrierId" column="po_carrierId"/>
		<result property="carrierName" column="po_carrierName"/>
		<result property="discontRate" column="po_discontRate"/>
		<result property="payType" column="po_payType"/>
		<result property="poType" column="po_poType"/>
		<result property="plateno" column="po_plateno"/>
		<result property="payTypeName" column="po_payTypeName"/>
		<result property="salesPONumber" column="po_salesPONumber"/>
		<result property="purchasePONumber" column="po_purchasePONumber"/>

		<!-- association：配置的一对一属性 -->
		<!-- property：名字
			 javaType：类型
		 -->
		<association property="materialdetail" resultMap="materialdetailResultMap"/>
		
		
		<collection property="payment" ofType="Payment" column="id">
			 <id property="id" column="payment_id"/>
			<result property="version" column="payment_version"/>
			<result property="name" column="payment_name"/>
			<result property="comments" column="payment_comments"/>
			<result property="organizationId" column="payment_organizationId"/>
			<result property="organizationName" column="payment_organizationName"/>
			<result property="userId" column="payment_userId"/>
			<result property="userName" column="payment_userName"/>
			<result property="privateId" column="payment_privateId"/>
			<result property="dataType" column="payment_dataType"/>
			<result property="goodsType" column="payment_goodsType"/>
			<result property="payerId" column="payment_payerId"/>
			<result property="payerName" column="payment_payerName"/>
			<result property="payerBankOfDeposit" column="payment_payerBankOfDeposit"/>
			<result property="payerAccountId" column="payment_payerAccountId"/>
			<result property="payeeId" column="payment_payeeId"/>
			<result property="payeeName" column="payment_payeeName"/>
			<result property="payeeBankOfDeposit" column="payment_payeeBankOfDeposit"/>
			<result property="payeeAccountId" column="payment_payeeAccountId"/>
			<result property="payType" column="payment_payType"/>
			<result property="reason" column="payment_reason"/>
			<result property="customerPaymentId" column="payment_customerPaymentId"/>
		<!-- association：配置的一对一属性 -->
		<!-- property：名字
			 javaType：类型
		 -->
		<association property="paymentdetail" resultMap="paymentdetailResultMap"/>
		</collection>
		
	</resultMap>



        <resultMap type="MaterialDetail" id="materialdetailResultMap">
            <id property="id" column="materialdetail_id"/>
			<result property="version" column="materialdetail_version"/>
			<result property="name" column="materialdetail_name"/>
			<result property="comments" column="materialdetail_comments"/>
			<result property="organizationId" column="materialdetail_organizationId"/>
			<result property="organizationName" column="materialdetail_organizationName"/>
			<result property="userId" column="materialdetail_userId"/>
			<result property="userName" column="materialdetail_userName"/>
			<result property="privateId" column="materialdetail_privateId"/>
			<result property="dataType" column="materialdetail_dataType"/>
			<result property="goodsType" column="materialdetail_goodsType"/>
			<result property="quantity" column="materialdetail_quantity"/>
			<result property="quantityUnit" column="materialdetail_quantityUnit"/>
			<result property="priceNoTax" column="materialdetail_priceNoTax"/>
			<result property="priceWithTax" column="materialdetail_priceWithTax"/>
			<result property="totalPriceNoTax" column="materialdetail_totalPriceNoTax"/>
			<result property="totalPriceWithTax" column="materialdetail_totalPriceWithTax"/>
			<result property="priceQualityUnit" column="materialdetail_priceQualityUnit"/>
			<result property="taxRate" column="materialdetail_taxRate"/>
			<result property="tax" column="materialdetail_tax"/>
			<result property="masterId" column="materialdetail_masterId"/>
			<result property="realTotalPrice" column="materialdetail_realTotalPrice"/>
			<result property="realPrice" column="materialdetail_realPrice"/>
        
        </resultMap>

        <resultMap type="PaymentDetail" id="paymentdetailResultMap">
			<id property="id" column="paymentdetail_id"/>
			<result property="version" column="paymentdetail_version"/>
			<result property="name" column="paymentdetail_name"/>
			<result property="comments" column="paymentdetail_comments"/>
			<result property="organizationId" column="paymentdetail_organizationId"/>
			<result property="organizationName" column="paymentdetail_organizationName"/>
			<result property="userId" column="paymentdetail_userId"/>
			<result property="userName" column="paymentdetail_userName"/>
			<result property="privateId" column="paymentdetail_privateId"/>
			<result property="dataType" column="paymentdetail_dataType"/>
			<result property="goodsType" column="paymentdetail_goodsType"/>
			<result property="paymentId" column="paymentdetail_paymentId"/>
			<result property="amount" column="paymentdetail_amount"/>
			<result property="currency" column="paymentdetail_currency"/>
			<result property="date" column="paymentdetail_date"/>
			<result property="customerPaymentId" column="paymentdetail_customerPaymentId"/>
		</resultMap>


        

 <select id="SelectPOByObject" resultMap="poResultMap" parameterType="com.enn.commodity.synergistic.entity.PO">
     SELECT *
     FROM po p
     	LEFT JOIN materialdetail m
			ON p.po_materialDetailId = m.materialdetail_id
     	LEFT JOIN payment pa
			ON p.po_id=pa.payment_poId
     	LEFT JOIN paymentdetail pd
		ON pa.payment_id=pd.paymentdetail_paymentId
     WHERE 1=1
     <if test="id!=null and id!=''" >
     and p.po_id=#{id}
    </if>
    <if test="name!=null and name!=''" >
     and p.po_name=#{name}
    </if>
    <if test="version!=null and version!=''" >
     and p.po_version=#{version}
    </if>
    <if test="comments!=null and comments!=''" >
     and p.po_comments=#{comments}
    </if>
    <if test="organizationId!=null and organizationId!=''" >
     and p.po_organizationId=#{organizationId}
    </if>
    <if test="organizationName!=null and organizationName!=''" >
     and p.po_organizationName=#{organizationName}
    </if>
    <if test="userId!=null and userId!=''" >
     and p.po_userId=#{userId}
    </if>
    <if test="userName!=null and userName!=''" >
     and p.po_userName=#{userName}
    </if>
    <if test="privateId!=null and privateId!=''" >
     and p.po_privateId=#{privateId}
    </if>
    <if test="dataType!=null and dataType!=''" >
     and p.po_dataType=#{dataType}
    </if>
    <if test="goodsType!=null and goodsType!=''" >
     and p.po_goodsType=#{goodsType}
    </if>
    <if test="buyerId!=null and buyerId!=''" >
     and p.po_buyerId=#{buyerId}
    </if>
    <if test="buyerName!=null and buyerName!=''" >
     and p.po_buyerName=#{buyerName}
    </if>
    <if test="sellerId!=null and sellerId!=''" >
     and p.po_sellerId=#{sellerId}
    </if>
    <if test="sellerName!=null and sellerName!=''" >
     and p.po_sellerName=#{sellerName}
    </if>
    <if test="type!=null and type!=''" >
     and p.po_type=#{type}
    </if>
    <if test="arrangementId!=null and arrangementId!=''" >
     and p.po_arrangementId=#{arrangementId}
    </if>
    <if test="customerArrangementId!=null and customerArrangementId!=''" >
     and p.po_customerArrangementId=#{customerArrangementId}
    </if>
    <if test="relatedPONumber!=null and relatedPONumber!=''" >
     and p.po_relatedPONumber=#{relatedPONumber}
    </if>
    <if test="issuedDate!=null and issuedDate!=''" >
     and p.po_issuedDate=#{issuedDate}
    </if>
    <if test="status!=null and status!=''" >
     and p.po_status=#{status}
    </if>
    <if test="productId!=null and productId!=''" >
     and p.po_productId=#{productId}
    </if>
    <if test="productName!=null and productName!=''" >
     and p.po_productName=#{productName}
    </if>
    <if test="productType!=null and productType!=''" >
     and p.po_productType=#{productType}
    </if>
    <if test="carryPONumber!=null and carryPONumber!=''" >
     and p.po_carryPONumber=#{carryPONumber}
    </if> 
    <if test="carrierId!=null and carrierId!=''" >
     and p.po_carrierId=#{carrierId}
    </if>
    <if test="carrierName!=null and carrierName!=''" >
     and p.po_carrierName=#{carrierName}
    </if>
    <if test="discontRate!=null and discontRate!=''" >
     and p.po_discontRate=#{discontRate}
    </if>
    <if test="payType!=null and payType!=''" >
     and p.po_payType=#{payType}
    </if>
    <if test="plateno!=null and plateno!=''" >
     and p.po_plateno=#{plateno}
    </if>
    <if test="payTypeName!=null and payTypeName!=''" >
     and p.po_payTypeName=#{payTypeName}
    </if>
    <if test="salesPONumber!=null and salesPONumber!=''" >
     and p.po_salesPONumber=#{salesPONumber}
    </if>
    <if test="purchasePONumber!=null and purchasePONumber!=''" >
     and p.po_purchasePONumber=#{purchasePONumber}
    </if>

  </select>
 
 
 
  <!-- <select id="queryAresById" resultType="com.yaw.demo.entity.Area">
     SELECT areaId,areaName,priority,createTime,lastEditTime
     FROM area
     WHERE areaId=#{areaId}
  </select>
  
  <insert id="insertArea" useGeneratedKeys="true" keyProperty="areaId" keyColumn="areaId" parameterType="com.yaw.demo.entity.Area">
    insert into area (areaName,priority,createTime,lastEditTime) values(#{areaName},#{priority},#{createTime},#{lastEditTime})
  </insert>
  
  
  
  <delete id="deleteArea">
     DELETE FROM
     area
     WHERE
     areaId=#{areaId}
  </delete> -->
</mapper>